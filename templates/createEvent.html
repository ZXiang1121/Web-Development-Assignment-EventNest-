{% extends "base.html" %}
{% block title %}EventNest - Create Event{% endblock %}

{% block content %}
<div class="p-5 bg-light">
    <div class="container-sm col-lg-6 ml-auto">

        <h2 class="display-7">Create Event</h2>

        <form action="/action_page.php" class="needs-validation" novalidate>
            <div class="form-group my-4">
                <label class="control-label" for="ename">Event Name</label>
                <input type="text" class="form-control" id="ename" required>

                <div class="valid-feedback">Valid.</div>
                <div class="invalid-feedback">Please fill out this field.</div>
            </div>

            <div class="row py-4">
                <div class="col">
                    <label>Start Date</label>
                    <input type="text" name="Lname" class="form-control" placeholder="DD/MM/YY">
                </div>
                <div class="col">
                    <label>End Date</label>
                    <input type="text" name="Lname" class="form-control" placeholder="DD/MM/YY">
                </div>
            </div>


            <div class="row">
                <div class="col">
                    <label>Add Event Poster</label>
                    <div class="image-upload">
                        <label for="file-input1">
                            <img id="previewImg" src="https://static.thenounproject.com/png/3322766-200.png" style="width: 100px; height: 100px;  border: 2px solid black;margin-top:15px;" />
                        </label>
                        
                        <input id="file-input1" type="file" onchange="poster(this);" style="display: none;" />
                    </div>
                </div>

                <div class="col">
                    <label>Add Seating Image</label>
                    <div class="image-upload">
                        <label for="file-input2">
                            <img id="previewImg2" src="https://static.thenounproject.com/png/3322766-200.png" style="width: 100px; height: 100px;  border: 2px solid black;margin-top:15px;" />
                        </label>

                        <input id="file-input2" type="file" onchange="seating(this);" style="display: none;" />
                    </div>
                </div>
            </div>
                

            <div class="form-group my-4">
                
                <label for="seatingcats" class=" mt-3">Number of Seating Categories</label>
                <select class="form-control" id="seatingcats">
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
            </div>

            <div class="row justify-content-center mt-5 mb-3">
                <form action="" method="POST">
                    <input type="submit" class="btn btn-primary btn-md" style="width:40%" value="Submit">
                </form>
            </div>

        </form>
    </div>
</div>

<script>
// Disable form submissions if there are invalid fields
(function() {
  'use strict';
  window.addEventListener('load', function() {
    // Get the forms we want to add validation styles to
    var forms = document.getElementsByClassName('needs-validation');
    // Loop over them and prevent submission
    var validation = Array.prototype.filter.call(forms, function(form) {
      form.addEventListener('submit', function(event) {
        if (form.checkValidity() === false) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    });
  }, false);
})();

// preview uploaded
function poster(input){
        var file = $("input[type=file]").get(0).files[0];

        if(file){
          var reader = new FileReader();

          reader.onload = function(){
              $("#previewImg").attr("src", reader.result);
          }

          reader.readAsDataURL(file);
        }
    }

function seating(input){
    var seats = $("input[type=file]").get(1).files[0];

    if(seats){
        var reader = new FileReader();

        reader.onload = function(){
            $("#previewImg2").attr("src", reader.result);
        }

        reader.readAsDataURL(seats);
    }
}

</script>
{% endblock %}

